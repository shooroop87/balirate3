{% extends "base.html" %}
{% load static i18n %}

{% block title %}{% trans "Profil bearbeiten" %}{% endblock %}

{% block content %}
<div class="doctor-profile-area pb-140">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 mb-4">
                {% include "account/includes/sidebar.html" %}
            </div>

            <div class="col-lg-9">
                <div class="profile-card">
                    <div class="card-header">
                        <h2>{% trans "Profil bearbeiten" %}</h2>
                    </div>
                    <div class="card-body">
                        <form method="post">
                            {% csrf_token %}
                            
                            <div class="form-section">
                                <h4>{% trans "Pers√∂nliche Daten" %}</h4>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">{% trans "Vorname" %} *</label>
                                        <input type="text" name="first_name" class="form-control" value="{{ form.first_name.value|default:'' }}" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">{% trans "Nachname" %} *</label>
                                        <input type="text" name="last_name" class="form-control" value="{{ form.last_name.value|default:'' }}" required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">{% trans "Telefon" %}</label>
                                        <input type="tel" name="phone" class="form-control" value="{{ form.phone.value|default:'' }}" placeholder="+49 123 456789">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">{% trans "Geburtsdatum" %}</label>
                                        <input type="date" name="date_of_birth" class="form-control" value="{{ form.date_of_birth.value|default:'' }}">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">{% trans "Sprache" %}</label>
                                    <select name="language" class="form-select">
                                        <option value="de" {% if form.language.value == 'de' %}selected{% endif %}>Deutsch</option>
                                        <option value="en" {% if form.language.value == 'en' %}selected{% endif %}>English</option>
                                    </select>
                                </div>
                            </div>

                            {% if form.errors %}
                            <div class="alert alert-danger">
                                {% for field in form %}
                                    {% for error in field.errors %}
                                        <p class="mb-0">{{ error }}</p>
                                    {% endfor %}
                                {% endfor %}
                            </div>
                            {% endif %}

                            <div class="d-flex gap-2">
                                <button type="submit" class="btn btn-primary">{% trans "Speichern" %}</button>
                                <a href="{% url 'account_profile' %}" class="default-btn">{% trans "Abbrechen" %}</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.profile-area{padding:140px 0}
.profile-card{background:#fff;border-radius:20px;box-shadow:0 10px 40px rgba(0,0,0,.08);overflow:hidden}
.profile-card .card-header{background:0 0;border-bottom:1px solid #f0f0f0;padding:25px 30px}
.profile-card .card-header h2{font-size:20px;margin:0}
.profile-card .card-body{padding:30px}
.form-section{margin-bottom:30px}
.form-section h4{font-size:16px;color:#336AEA;margin-bottom:20px;font-weight:600}
.form-label{font-weight:500;color:#2A3547;margin-bottom:8px}
.form-control,.form-select{padding:12px 16px;border-radius:10px;border:1px solid #e0e0e0}
.form-control:focus,.form-select:focus{border-color:#336AEA;box-shadow:0 0 0 3px rgba(51,106,234,.1)}
.btn-primary{padding:12px 30px;border-radius:10px}
.btn-outline-secondary{padding:12px 30px;border-radius:10px}
</style>
{% endblock %}