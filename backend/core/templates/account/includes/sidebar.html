{% load i18n %}

<div class="account-sidebar">
    <div class="user-info">
        <div class="avatar">
            {{ user.first_name|slice:":1"|upper }}{{ user.last_name|slice:":1"|upper }}
        </div>
        <h4>{{ user.first_name }} {{ user.last_name }}</h4>
        <p>{{ user.email }}</p>
    </div>
    
    <nav class="account-nav">
        <a href="{% url 'dashboard' %}" class="{% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
            {% trans "Ãœbersicht" %}
        </a>
        
        <a href="{% url 'account_profile' %}" class="{% if 'profile' in request.resolver_match.url_name %}active{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            {% trans "Profil" %}
        </a>
        
        <a href="{% url 'subscriptions' %}" class="{% if 'subscription' in request.resolver_match.url_name %}active{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>
            {% trans "Abonnement" %}
        </a>
        
        <a href="{% url 'account_orders' %}" class="{% if 'order' in request.resolver_match.url_name %}active{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="3" width="15" height="13"/><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/><circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/></svg>
            {% trans "Bestellungen" %}
        </a>
        
        <a href="{% url 'account_medications' %}" class="{% if 'medication' in request.resolver_match.url_name %}active{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.5 20.5L3.5 13.5C1.5 11.5 1.5 8 3.5 6C5.5 4 9 4 11 6L18 13C20 15 20 18.5 18 20.5C16 22.5 12.5 22.5 10.5 20.5Z"/><path d="M7.5 10.5L13.5 16.5"/></svg>
            {% trans "Medikamente" %}
        </a>
        
        <a href="{% url 'account_documents' %}" class="{% if 'document' in request.resolver_match.url_name %}active{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
            {% trans "Dokumente" %}
        </a>
        
        <a href="{% url 'account_payments' %}" class="{% if 'payment' in request.resolver_match.url_name %}active{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>
            {% trans "Zahlungen" %}
        </a>
        
        <hr>
        
        <a href="{% url 'account_logout' %}" class="logout">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
            {% trans "Abmelden" %}
        </a>
    </nav>
</div>

<style>
.account-sidebar {
    background: #fff;
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.05);
    padding: 25px;
    position: sticky;
    top: 100px;
}
.user-info {
    text-align: center;
    padding-bottom: 20px;
    margin-bottom: 20px;
    border-bottom: 1px solid #f0f0f0;
}
.user-info .avatar {
    width: 70px;
    height: 70px;
    background: linear-gradient(135deg, #336AEA, #10B981);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 24px;
    font-weight: 600;
    margin: 0 auto 15px;
}
.user-info h4 {
    font-size: 16px;
    margin-bottom: 5px;
}
.user-info p {
    font-size: 13px;
    color: #5A6A85;
    margin: 0;
}
.account-nav {
    display: flex;
    flex-direction: column;
}
.account-nav a {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 15px;
    color: #5A6A85;
    text-decoration: none;
    border-radius: 10px;
    transition: all 0.3s ease;
    margin-bottom: 5px;
}
.account-nav a:hover {
    background: #f8f9fa;
    color: #336AEA;
}
.account-nav a.active {
    background: rgba(51, 106, 234, 0.1);
    color: #336AEA;
}
.account-nav a.active svg {
    stroke: #336AEA;
}
.account-nav hr {
    margin: 15px 0;
    border-color: #f0f0f0;
}
.account-nav a.logout {
    color: #dc3545;
}
.account-nav a.logout:hover {
    background: #fee;
}
</style>